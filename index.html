<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <title>FA Taxi Boeking</title>
  
  <!-- Base URL for static files -->
  <base href="/FATAXICENTRALE/">
  
  <!-- CSS -->
  <link rel="stylesheet" href="static/css/styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="">
  
  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  
  <!-- Laad eerst config en utils -->
  <script src="static/js/config.js"></script>
  <script src="static/js/translations.js"></script>
  <script src="static/js/utils.js"></script>
  
  <!-- Laad de modules -->
  <script src="static/js/location.js"></script>
  <script src="static/js/addressSuggestions.js"></script>
  <script src="static/js/priceCalculator.js"></script>
  <script src="static/js/map.js"></script>
  <script src="static/js/idealPayment.js"></script>
  <script src="static/js/languageSettings.js"></script>
  <script src="static/js/formHandler.js"></script>
  <script src="static/js/draft-manager.js"></script>
  
  <!-- Laad de hoofdapplicatie -->
  <script src="static/js/app.js"></script>
  <script src="static/js/main.js"></script>
  
  <!-- Initialisatie script -->
  <script>
    // Wacht tot de DOM volledig is geladen
    document.addEventListener('DOMContentLoaded', function() {
      // Wacht even om zeker te zijn dat alles geladen is
      setTimeout(function() {
        if (window.App) {
          try {
            const app = new window.App();
            window.app = app;
            app.initialize().then(() => {
              console.log('Applicatie succesvol ge√Ønitialiseerd');
            }).catch(error => {
              console.error('Fout bij initialiseren app:', error);
            });
          } catch (error) {
            console.error('Fout bij aanmaken App instantie:', error);
          }
        } else {
          console.error('App klasse niet gevonden in window object');
        }
      }, 100);
    });
  </script>
</head>
<body>
  <div id="app">
    <h1>FA Taxi Service</h1>
    <div class="vehicle-selection" style="margin: 20px 0; text-align: center;">
      <a href="/FATAXICENTRALE/klant.html" 
         style="display: inline-block; padding: 15px 30px; margin: 10px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; font-size: 16px; cursor: pointer;"
         onmouseover="this.style.opacity=0.8" 
         onmouseout="this.style.opacity=1">
        <span style="font-size: 20px; margin-right: 10px;">üöñ</span>
        <span>TAXI 4 Personen</span>
      </a>
      
      <a href="/FATAXICENTRALE/klant.html?vehicle=bus" 
         style="display: inline-block; padding: 15px 30px; margin: 10px; background: #28a745; color: white; text-decoration: none; border-radius: 5px; font-size: 16px; cursor: pointer;"
         onmouseover="this.style.opacity=0.8" 
         onmouseout="this.style.opacity=1">
        <span style="font-size: 20px; margin-right: 10px;">üöç</span>
        <span>BUSJE XXL 6 Personen</span>
      </a>
    </div>
    <p>Bezig met laden van de applicatie...</p>
  </div>

  <script>
    // Toon een foutmelding als er iets misgaat
    window.addEventListener('error', (event) => {
      console.error('Global error:', event.error);
      const app = document.getElementById('app');
      if (app) {
        app.innerHTML += `
          <div style="color: red; padding: 10px; margin: 10px; border: 1px solid red;">
            <strong>Fout opgetreden:</strong> ${event.message}
            <br><small>${event.filename} (${event.lineno}:${event.colno})</small>
          </div>`;
      }
    });
  </script>
</body>
</html>
